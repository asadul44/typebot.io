import{jsx as t}from"react/jsx-runtime";import{useRef as e,useEffect as n,useState as r,useCallback as o}from"react";function c(t,e,n,r){return new(n||(n=Promise))((function(o,c){function u(t){try{l(r.next(t))}catch(t){c(t)}}function i(t){try{l(r.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,i)}l((r=r.apply(t,e||[])).next())}))}const u=r=>{var{style:o,className:u}=r,i=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(r,["style","className"]);const l=e(null);return n((()=>{c(void 0,void 0,void 0,(function*(){yield import("@typebot.io/js/dist/web")}))}),[]),n((()=>{l.current&&Object.assign(l.current,i)}),[i]),t("typebot-standard",{ref:l,style:o,class:u})},i=t=>{const u=e(null),[i,l]=r(!1);n((()=>(c(void 0,void 0,void 0,(function*(){yield import("@typebot.io/js/dist/web"),l(!0)})),()=>{var t;null===(t=u.current)||void 0===t||t.remove()})),[]);const s=o((t=>{const e=document.createElement("typebot-bubble");u.current=e,a(u.current,t),document.body.append(u.current)}),[]);n((()=>{i&&(u.current||s(t),a(u.current,t))}),[s,i,t]);const a=(t,e)=>{Object.assign(t,e)};return null},l=t=>{const u=e(null),[i,l]=r(!1);n((()=>(c(void 0,void 0,void 0,(function*(){yield import("@typebot.io/js/dist/web"),l(!0)})),()=>{var t;null===(t=u.current)||void 0===t||t.remove()})),[]);const s=o((t=>{const e=document.createElement("typebot-popup");u.current=e,a(u.current,t),document.body.append(u.current)}),[]);n((()=>{i&&(u.current||s(t),a(u.current,t))}),[s,i,t]);const a=(t,e)=>{Object.assign(t,e)};return null};export{i as Bubble,l as Popup,u as Standard};
